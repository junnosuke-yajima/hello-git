<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="title">消費税計算</h1>
    <input type="radio" name="tax" id="tax1" checked>
    <label for="tax1">消費税10％</label><br>
    <input type="radio" name="tax" id="tax2">
    <label for="tax2">消費税8％</label><br>
    <input id="price" type="number" name="price">
    <button id="tax-btn">税込価格を計算</button>
    <div id="result"></div>
    <div id="resultTax"></div>
    <script>
        (function(){
            var price = document.getElementById('price');
            var result = document.getElementById('result');
            var resultTax = document.getElementById('resultTax');
            var tax1 = document.getElementById('tax1');
            var tax2 = document.getElementById('tax2');
            var btn =  document.getElementById('tax-btn');
            console.log("ここまではOK");
            console.log(tax1.checked);

            function calculateTax() {
                if(tax1.checked){
                    var includeTax = Math.floor(price.value * 1.1);
                    result.innerHTML = `(税込:${includeTax}円)`;
                    resultTax.innerHTML = `(内税:${includeTax - price.value}円)`;
                } else if(tax2.checked) {
                    var includeTax8 = Math.floor(price.value * 1.08);
                    result.innerHTML = `(税込:${includeTax8}円)`;
                    resultTax.innerHTML = `(内税:${includeTax8 - price.value}円)`;
                }
            }

            btn.addEventListener('click', function(){
                console.log("クリックイベント");
                calculateTax();

            });
        })();
    </script>

</body>
</html>